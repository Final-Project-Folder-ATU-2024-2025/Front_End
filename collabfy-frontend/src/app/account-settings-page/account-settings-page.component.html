<app-header></app-header>

<!-- Wrapper for left column, main form container, and right images -->
<div class="account-settings-wrapper">
  <!-- =======================================================
       Left Column: Back Home button and left images
       ======================================================= -->
  <div class="side-column">
    <!-- Back Home button -->
    <div class="side-button">
      <button class="nav-button" (click)="goHome()">
        <!-- Back arrow icon from FontAwesome -->
        <fa-icon [icon]="faArrowLeft"></fa-icon> Back Home
      </button>
    </div>
    <!-- Left images container (2 images) -->
    <div class="account-images-left">
      <img src="assets/images/account_settings_page/accountset_img1.jpg" alt="Account Image 1">
      <img src="assets/images/account_settings_page/accountset_img2.jpg" alt="Account Image 2">
    </div>
  </div>

  <!-- =======================================================
       Main Container: Account Settings Form
       ======================================================= -->
  <main>
    <h2>Account Settings</h2>
    <p>Update Name, Surname, Business Telephone and Password</p>
    <form (ngSubmit)="updateSettings()" #settingsForm="ngForm">
      <div>
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" [(ngModel)]="firstName" required>
      </div>
      <div>
        <label for="surname">Surname:</label>
        <input type="text" id="surname" name="surname" [(ngModel)]="surname" required>
      </div>
      <div>
        <label for="telephone">Business Telephone:</label>
        <input type="text" id="telephone" name="telephone" [(ngModel)]="telephone" pattern="^[^A-Za-z]*$">
      </div>
      <div>
        <label for="oldPassword">Current Password:</label>
        <input type="password" id="oldPassword" name="oldPassword" [(ngModel)]="oldPassword">
      </div>
      <div>
        <label for="newPassword">New Password:</label>
        <div class="password-container">
          <input #newPasswordInput type="password" id="newPassword" name="newPassword" [(ngModel)]="newPassword">
          <!-- Password icon toggles visibility on press -->
          <i class="fa-solid fa-eye-slash password-icon"
             (mousedown)="onPasswordMouseDown($event, newPasswordInput)"
             (mouseup)="onPasswordMouseUp($event, newPasswordInput)"
             (mouseleave)="onPasswordMouseUp($event, newPasswordInput)"></i>
        </div>
      </div>
      <div>
        <label for="confirmPassword">Confirm New Password:</label>
        <div class="password-container">
          <input #confirmPasswordInput type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="confirmPassword">
          <!-- Confirm password visibility icon -->
          <i class="fa-solid fa-eye-slash password-icon"
             (mousedown)="onPasswordMouseDown($event, confirmPasswordInput)"
             (mouseup)="onPasswordMouseUp($event, confirmPasswordInput)"
             (mouseleave)="onPasswordMouseUp($event, confirmPasswordInput)"></i>
        </div>
      </div>
      <button type="submit" [disabled]="!settingsForm.form.valid">Update Settings</button>
    </form>
    <!-- Display message after settings update -->
    <p *ngIf="message">{{ message }}</p>
    <!-- Cancel button to navigate back home -->
    <button class="back-home-button" (click)="goHome()">Cancel</button>
  </main>

  <!-- =======================================================
       Right Column: Right images (3 images)
       ======================================================= -->
  <div class="account-images-right">
    <img src="assets/images/account_settings_page/accountset_img3.jpg" alt="Account Image 3">
    <img src="assets/images/account_settings_page/accountset_img4.jpg" alt="Account Image 4">
    <img src="assets/images/account_settings_page/accountset_img5.jpg" alt="Account Image 5">
  </div>
</div>

<app-footer></app-footer>
